  - platform: template
    sensors:
      pi_apple_on:
        value_template: >-
          {%- if states( 'sensor.apple_last_seen' ) != 'unknown'
            and ( as_timestamp( now() ) - as_timestamp( states( 'sensor.apple_last_seen' ) ) ) <= 240 -%}
          True
          {%- else -%}
          False
          {%- endif %}
      pi_boston_cream_on:
        value_template:  >-
          {%- if states( 'sensor.boston_cream_last_seen' ) != 'unknown'
            and ( as_timestamp( now() ) - as_timestamp( states( 'sensor.boston_cream_last_seen' ) ) ) <= 240 -%}
          True
          {%- else -%}
          False
          {%- endif %}
      pi_cherry_on:
        value_template:  >-
          {%- if states( 'sensor.cherry_last_seen' ) != 'unknown'
            and ( as_timestamp( now() ) - as_timestamp( states( 'sensor.cherry_last_seen' ) ) ) <= 240 -%}
          True
          {%- else -%}
          False
          {%- endif %}
        entity_id: sensor.cherry_last_seen
      pi_derby_on:
        value_template:  >-
          {%- if states( 'sensor.derby_last_seen' ) != 'unknown'
            and ( as_timestamp( now() ) - as_timestamp( states( 'sensor.derby_last_seen' ) ) ) <= 240 -%}
          True
          {%- else -%}
          False
          {%- endif %}
      pi_elderberry_on:
        value_template:  >-
          {%- if states( 'sensor.elderberry_last_seen' ) != 'unknown'
            and ( as_timestamp( now() ) - as_timestamp( states( 'sensor.elderberry_last_seen.state' ) ) ) <= 240 -%}
          True
          {%- else -%}
          False
          {%- endif %}
      pi_grasshopper_on:
        value_template:  >-
          {%- if states( 'sensor.grasshopper_last_seen' ) != 'unknown'
            and ( as_timestamp( now() ) - as_timestamp( states( 'sensor.grasshopper_last_seen' ) ) ) <= 240 -%}
          True
          {%- else -%}
          False
          {%- endif %}
      pi_pi_on:
        value_template:  >-
          {%- if states( 'sensor.pi_last_seen' ) != 'unknown'
            and ( as_timestamp( now() ) - as_timestamp( states( 'sensor.pi_last_seen' ) ) ) <= 240 -%}
          True
          {%- else -%}
          False
          {%- endif %}
      furnace:
        friendly_name: Furnace
        entity_id:
          - sensor.basement_thermostat_nest_hvac_state
          - sensor.living_room_thermostat_nest_hvac_state
          - sensor.office_thermostat_nest_hvac_state
          - sensor.upstairs_thermostat_nest_hvac_state
        value_template: >-
          {{ is_state('sensor.basement_thermostat_nest_hvac_state', 'heating')
             or is_state('sensor.living_room_thermostat_nest_hvac_state', 'heating')
             or is_state('sensor.office_thermostat_nest_hvac_state', 'heating')
             or is_state('sensor.upstairs_thermostat_nest_hvac_state', 'heating') }}
      office_heat:
        friendly_name: Office Heat
        entity_id:
          - sensor.office_thermostat_nest_hvac_state
        value_template: >-
          {{ is_state('sensor.office_thermostat_nest_hvac_state', 'heating') }}
      living_room_heat:
        friendly_name: Living Room Heat
        entity_id:
          - sensor.living_room_thermostat_nest_hvac_state
        value_template: >-
          {{ is_state('sensor.living_room_thermostat_nest_hvac_state', 'heating') }}
      upstairs_heat:
        friendly_name: Upstairs Heat
        entity_id:
          - sensor.upstairs_thermostat_nest_hvac_state
        value_template: >-
          {{ is_state('sensor.upstairs_thermostat_nest_hvac_state', 'heating') }}
      basement_heat:
        friendly_name: Basement Heat
        entity_id:
          - sensor.basement_thermostat_nest_hvac_state
        value_template: >-
          {{ is_state('sensor.basement_thermostat_nest_hvac_state', 'heating') }}
